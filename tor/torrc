# Tor configuration for crawler
# Place this file at ./tor/torrc

# SOCKS proxy settings - bind to all interfaces for Docker
SocksPort 0.0.0.0:9050

# Control port with authentication
ControlPort 127.0.0.1:9051
HashedControlPassword 16:E2B77028DE2BBCD460B2E26AB8CD7106F1223DFFE87D518C8125CE9812

# Data directory
DataDirectory /tmp/tor

# Performance and reliability settings
MaxCircuitDirtiness 300
NewCircuitPeriod 30
CircuitBuildTimeout 10
KeepalivePeriod 60
SocksTimeout 120

# Reduce log noise
Log notice stdout

# Circuit creation
NumEntryGuards 3
UseEntryGuards 1

# For better anonymity with automated requests
EnforceDistinctSubnets 1
FascistFirewall 0

# Disable features we don't need
DisableDebuggerAttachment 1
AvoidDiskWrites 1

# Connection settings suitable for crawling
ConnectionPadding 1
ReducedConnectionPadding 0

# Directory settings
FetchDirInfoEarly 1
FetchDirInfoExtraEarly 0

# Security settings
CookieAuthentication 0